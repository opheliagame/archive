<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>opheliagame</title><base href="/"><link rel="preconnect" href="https://fonts.gstatic.com"><link rel="apple-touch-icon" sizes="180x180" href="assets/img/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="96x96" href="assets/img/favicons/android-chrome-192x192.png"><link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicons/android-chrome-384x384.png"><link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon-32x32.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="theme-color" content="#54e4e5"><meta name="author" content="opheliagame"><meta name="description" content="visuals | text | code"><meta property="og:image" content="https://opheliagame.github.io/assets/img/favicon.ico"><meta property="og:description" content="visuals | text | code"><meta property="og:title" content="opheliagame"><meta property="twitter:description" content="visuals | text | code"><meta property="twitter:title" content="opheliagame"><meta property="twitter:creator" content="@anushkatr"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@200;400;600&display=swap" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/prism-themes@1.7.0/themes/prism-material-light.css" rel="stylesheet"><link rel="stylesheet" href="assets/css/style.css"><link rel="stylesheet" href="assets/css/extra.css"><script src="assets/js/libs/paper-full.min.js"></script></head><body class="bg-pink-200"><div class="md:container md:mx-auto min-h-screen flex flex-col items-center px-2 md:px-48"><div class="flex justify-between items-center w-full"><main-header></main-header><main-nav></main-nav></div><div class="px-2 w-full text-sm"><h3 class="text-lg md:text-xl font-semibold uppercase">Let&#39;s make a Chess Board</h3><div class="flex flex-row"><main-tag name="shader"></main-tag><main-tag name="drawing"></main-tag><main-tag name="2021"></main-tag><main-tag name="june"></main-tag></div><div class="text-sm md:text-lg"><p class="py-2">It has been quite some time, a bit over two months(!) since I last wrote an article. But let's stop beating ourself over it, maybe that's how we'll get to writing more of these. In fact an exciting update is that I've sort of made myself a shader curriculum, and by no way is this covering everything. But I am hoping that if I can give this enough time in a week, I can get to be more consistent with the project of learning about shaders! ðŸŽ‰</p><p class="py-2">This time I thought I'll try to do something simple i.e. make a chess board to pratice using some important glsl functions like <a href="https://thebookofshaders.com/glossary/?search=fract" target="_blank" rel="noopener noreferrer"><code>fract</code></a> and <a href="https://thebookofshaders.com/glossary/?search=step" target="_blank" rel="noopener noreferrer"><code>step</code></a>. This is going to be the smallest shader that I have written an article on thus far. But the idea is to make this into a series and make an actual chess board with all it's pieces, and everything, using (hopefully) just shaders!</p><p class="py-2">Also a last thing before we can get into it. I have changed my workflow and now instead of using <a href="https://marketplace.visualstudio.com/items?itemName=circledev.glsl-canvas" target="_blank" rel="noopener noreferrer">glsl-canvas</a>, I have started using <a href="https://github.com/patriciogonzalezvivo/glslViewer" target="_blank" rel="noopener noreferrer">glslViewer</a> made by the amazing Patricio Gonzalez, who is also one of the writers of <a href="https://thebookofshaders.com/" target="_blank" rel="noopener noreferrer">the book of shaders</a>. I found that I could do much more things with glslViewer like including other glsl files and using textures, in a much simpler fashion, so I am going to stick to this. Nevertheless the current example can be done inside glsl-canvas too.</p><h3 class="text-lg font-semibold">What are we waiting for?</h3><p class="py-2">Let's start by writing the boilerplate stuff, making our uniforms, and setting a ðŸ”´ color to <code>gl_FragColor</code> to begin with.</p><pre class="language-glsl"><code class="language-glsl"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">GL_ES</span></span><br><span class="token keyword">precision</span> <span class="token keyword">mediump</span> <span class="token keyword">float</span><span class="token punctuation">;</span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><br><br><span class="token keyword">uniform</span> <span class="token keyword">vec2</span> u_resolution<span class="token punctuation">;</span><br><span class="token keyword">uniform</span> <span class="token keyword">float</span> u_time<span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">vec2</span> st <span class="token operator">=</span> gl_FragCoord<span class="token punctuation">.</span>xy<span class="token operator">/</span>u_resolution<span class="token punctuation">.</span>xy<span class="token punctuation">;</span><br>  gl_FragColor <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p class="py-2">And now if we start deconstructing a chess board, it is basically made of white and black squares alternating each other in a two dimensional fashion. Since we need a bunch of these squares, we will have to expand our coordinates <code>st</code>, which currently is in the range 0-1 by multiplying it with some factor to convert it into 0-factor.</p><pre class="language-glsl"><code class="language-glsl"><span class="token keyword">vec2</span> grid <span class="token operator">=</span> st<span class="token operator">*</span><span class="token number">5.0</span><span class="token punctuation">;</span></code></pre><p class="py-2">We can now try to convert this into alternating black and white columns by using <code>step</code></p><pre class="language-glsl"><code class="language-glsl"><span class="token keyword">float</span> cols <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> grid<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p class="py-2">This won't look right because our space ranges from 0-factor and we'd like it to be in columns of 0-1 lined next to each other to be able to use <code>step</code></p><p class="py-2"><picture><source type="image/avif" srcset="/assets/img/MNPYj0Q-kJ-300.avif 300w" sizes="(min-width: 30em) 50vw, 100vw"><img alt="step function" loading="lazy" decoding="async" src="/assets/img/MNPYj0Q-kJ-300.jpeg" width="300" height="319"></picture></p><p class="py-2">Behold <code>fract</code> ðŸ‘‡</p><pre class="language-glsl"><code class="language-glsl"><span class="token keyword">float</span> cols <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token function">fract</span><span class="token punctuation">(</span>grid<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p class="py-2"><picture><source type="image/avif" srcset="/assets/img/uUW8Dpl74U-300.avif 300w" sizes="(min-width: 30em) 50vw, 100vw"><img alt="step plus fract function" loading="lazy" decoding="async" src="/assets/img/uUW8Dpl74U-300.jpeg" width="300" height="319"></picture></p><p class="py-2">Now we figure we just need to repeat this process for rows and we've got it right?</p><pre class="language-glsl"><code class="language-glsl"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">vec2</span> st <span class="token operator">=</span> gl_FragCoord<span class="token punctuation">.</span>xy<span class="token operator">/</span>u_resolution<span class="token punctuation">.</span>xy<span class="token punctuation">;</span><br>  <span class="token keyword">vec2</span> grid <span class="token operator">=</span> st<span class="token operator">*</span><span class="token number">5.0</span><span class="token punctuation">;</span><br>  <span class="token keyword">float</span> cols <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token function">fract</span><span class="token punctuation">(</span>grid<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">float</span> rows <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token function">fract</span><span class="token punctuation">(</span>grid<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">vec3</span> board <span class="token operator">=</span> <span class="token keyword">vec3</span><span class="token punctuation">(</span>rows<span class="token operator">+</span>cols<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  gl_FragColor <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>board<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p class="py-2"><picture><source type="image/avif" srcset="/assets/img/U51-p31lTF-300.avif 300w" sizes="(min-width: 30em) 50vw, 100vw"><img alt="rows plus cols" loading="lazy" decoding="async" src="/assets/img/U51-p31lTF-300.jpeg" width="300" height="319"></picture></p><p class="py-2">Of course it could not be this simple, now could it. If you play with the rows and cols and see what is in them individually, you'll realise that they don't line up in the way we want them. And so multiplying <code>rows</code> and <code>cols</code> also does not help.</p><p class="py-2">I tried a few combinations of these but since they didn't work (maybe there are some I didn't think of, so let me know if you do!) I thought of trying to modify <code>cols</code> such that alternate rows have it shifted a bit.</p><pre class="language-glsl"><code class="language-glsl"><span class="token keyword">float</span> rows <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token function">fract</span><span class="token punctuation">(</span>grid<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0.0</span> <span class="token operator">?</span> <span class="token number">0.2</span> <span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">;</span><br><span class="token keyword">float</span> cols <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token function">fract</span><span class="token punctuation">(</span>grid<span class="token punctuation">.</span>x <span class="token operator">+</span> rows<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p class="py-2"><picture><source type="image/avif" srcset="/assets/img/C5bGkN3FhZ-300.avif 300w" sizes="(min-width: 30em) 50vw, 100vw"><img alt="shifting cols" loading="lazy" decoding="async" src="/assets/img/C5bGkN3FhZ-300.jpeg" width="300" height="300"></picture></p><p class="py-2">To break this down a bit, the first line uses a <code>ternary operator</code> which is a shortform for an <code>if statement</code> or a way for us to make a decision based on outcome of a condition. We could also rewrite it as</p><pre class="language-glsl"><code class="language-glsl"><span class="token keyword">float</span> rows <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span><br><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token function">fract</span><span class="token punctuation">(</span>grid<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0.0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  rows <span class="token operator">=</span> <span class="token number">0.2</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p class="py-2">So each alernate row seems to be shifting to the left by <code>0.2</code> because we have incorporated this value into constructing our columns by modifying it's coordinate system. You can play with this by manually changing the value of <code>rows</code> and adding it to grid.x and seeing what that does.</p><p class="py-2">And tada ðŸŽ‰, by changing 0.2 to 0.5, we have our chess board!</p><p class="py-2"><picture><source type="image/avif" srcset="/assets/img/harf8dpzf8-300.avif 300w" sizes="(min-width: 30em) 50vw, 100vw"><img alt="chess board!" loading="lazy" decoding="async" src="/assets/img/harf8dpzf8-300.jpeg" width="300" height="300"></picture></p><p class="py-2">There is a whole bunch to explore with these patterns, so please change values wherever you like and make new ones ðŸŽ¨ Hoping to come back soon with chess pieces(or start simpler, go pieces xD)</p><p class="py-2">Until then &lt;insert Bob Ross saying god bless my friends&gt;</p></div></div><div class="w-full py-4 px-2 mt-auto"><main-footer></main-footer></div></div><script type="module" src="assets/js/main.mjs"></script></body></html>
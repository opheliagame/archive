<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta name="author" content="opheliagame">
  <meta name="description" content="human | computer art">
  <meta property="og:image" content="">
  <meta property="og:description" content="human | computer art">
  <meta property="og:title" content="opheliagame">
  <meta property="twitter:description" content="human | computer art">
  <meta property="twitter:title" content="opheliagame">
  <meta property="twitter:creator" content="@anushkatr">

  <link href="https://cdn.jsdelivr.net/npm/prism-themes@1.7.0/themes/prism-material-light.css" rel="stylesheet">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inconsolata&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/style.css" >
  <link rel="stylesheet" href="/extra.css" >

  <title>opheliagame</title>
</head>
<body style="background-color: #ffd6e0;">
  
  <div class="md:container md:mx-auto
              flex flex-col justify-between items-center
              px-2 md:px-32">
    <div class="flex justify-between w-full
                ">
      <header class="flex justify-between lg:justify-center items-center py-4 md:py-8 px-2">
  <a class="text-black no-underline" href="/">
    <h1 class="text-2xl md:text-3xl font-bold">
      opheliagame
    </h1>
  </a>
</header>
      <div class="flex flex-wrap gap-y-2 py-2 lg:px-24 col-span-full justify-between items-center text-xl">
  <a class="py-1 px-2 md:py-2 md:px-4" href="/">
    <span class="link-primary">about</span>
  </a>
  <a class="text-black no-underline py-1 px-2 md:py-2 md:px-4" href="/blog">
    <span class="link-primary">blog</span>
  </a>
</div>

    </div>

    <div class="px-2 w-full">
      <p class="py-2">I recently saw a <a href="https://www.youtube.com/watch?v=WDWzY95EEbA&amp;t=64s" target="_blank" rel="noopener noreferrer">documentary</a> about Mondrian and although the images of his paintings in the video were of not the best quality and there is an annoying watermark throughout, dare I say I maybe understood what Mondrian was trying to say. Having recently come across Vasudeo Gaitonde and S H Raza, I have come to appreciate color much more and how the right amount in the right places could really be something. Black and white is evergreen (sorry üòÇ) but imagine a world without color.</p>
<h3 class="text-lg font-semibold">A bit of history</h3>
<p class="py-2"><a href="https://www.artsy.net/artwork/piet-mondrian-farmhouse-with-wash-on-the-line" target="_blank" rel="noopener noreferrer"><img src="./farmhouse-with-wash-on-the-line.jpeg" alt="Farm house with wash on the line"></a></p>
<p class="py-2">Piet Mondrian, whose father was a drawing teacher and whose mother we don't find much about (but she also probably did something) was introduced to art and painting since a very young age. He also had an uncle with whom he painted often and after getting a degree in Fine Arts became qualified to teach but his career was to become a tad bit bigger than that.</p>
<p class="py-2"><a href="https://artleove.co/piet-mondrian-color-harmony-and-rhythm/" target="_blank" rel="noopener noreferrer"><img src="./gingerpot1.jpg" alt="gingerpot before cubism"></a></p>
<p class="py-2"><a href="https://artleove.co/piet-mondrian-color-harmony-and-rhythm/" target="_blank" rel="noopener noreferrer"><img src="./gingerpot2.jpg" alt="gingerpot after cubism"></a></p>
<p class="py-2">He was inspired by Cubism and Pablo Picasso and the Paris avant-garde scene at the time and it started reflecting in how he painted. Due to World War I, he was stuck back home, and could not return to Paris, and it was during this time that he met fellow artists, Bart van der Leck and Theo van Doesburg, and with Doesburg started a magazine called De Stijl and in it publishing essays about why he painted the way he painted.</p>
<p class="py-2"><a href="https://www.nytimes.com/2019/06/06/arts/design/broadway-boogie-woogie-moma.html" target="_blank" rel="noopener noreferrer"><img src="./broadway-boogie-woogie.jpg" alt="Broadway Boogie Woogie"></a></p>
<p class="py-2">His thinking was based on his belief in <a href="https://en.wikipedia.org/wiki/Theosophy" target="_blank" rel="noopener noreferrer">Theosophy</a> and in his words, he wanted <a href="https://www.artsy.net/article/matthew-how-mondrian-went-abstract" target="_blank" rel="noopener noreferrer">to articulate a mystic conception of cosmic harmony that lay behind the surfaces of reality.</a></p>
<p class="py-2">I am not quite sure what it is about these paintings that interests me but as someone who has been aiming for brevity in the things that I make, I decided to make myself a Mondrian! üéâ</p>
<h3 class="text-lg font-semibold">On with it now</h3>
<p class="py-2">As always, we will begin with our boilerplate, define our colors, and start with a nice bright red to soothe the eye.</p>
<pre class="language-glsl"><code class="language-glsl"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">GL_ES</span></span><br><span class="token keyword">precision</span> <span class="token keyword">mediump</span> <span class="token keyword">float</span><span class="token punctuation">;</span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><br><br><span class="token keyword">uniform</span> <span class="token keyword">vec2</span> u_resolution<span class="token punctuation">;</span><br><span class="token keyword">uniform</span> <span class="token keyword">float</span> u_time<span class="token punctuation">;</span><br><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"../lygia/generative/random.glsl"</span><span class="token expression"><span class="token punctuation">;</span></span></span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"../lygia/generative/cnoise.glsl"</span><span class="token expression"><span class="token punctuation">;</span></span></span><br><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">RED</span>      <span class="token expression"><span class="token keyword">vec3</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span></span></span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">YELLOW</span>   <span class="token expression"><span class="token keyword">vec3</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span></span></span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">BLUE</span>     <span class="token expression"><span class="token keyword">vec3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span></span></span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">WHITE</span>    <span class="token expression"><span class="token keyword">vec3</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span></span></span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">vec2</span> st <span class="token operator">=</span> gl_FragCoord<span class="token punctuation">.</span>xy<span class="token operator">/</span>u_resolution<span class="token punctuation">.</span>xy<span class="token punctuation">;</span><br>  gl_FragColor <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>RED<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p class="py-2">What we have also done here is <a href="https://en.wikipedia.org/wiki/OpenGL_Shading_Language#Preprocessor" target="_blank" rel="noopener noreferrer">include</a> two other glsl files, and those of you familiar with some c programming would have seen this before, but even if you haven't, it is nothing scary. This is a simple straightforward way to use functions and code from another file, by doing exactly what it says, including them at the beginning of our own code. What comes after <code>#include</code> is a file path, relative to the location of your current shader. And so for me, <a href="https://github.com/patriciogonzalezvivo/lygia" target="_blank" rel="noopener noreferrer">lygia</a> is in the folder outside the folder I am in now, like so</p>
<p class="py-2"><img src="./terminal.png" alt="folder structure"></p>
<p class="py-2">And just to take a little space to gush about lygia, it is a wonderful library with a whole lot of functions ranging from drawing shapes to manipulating color and space. It is created by <a href="http://patriciogonzalezvivo.com/" target="_blank" rel="noopener noreferrer">Patricio Gonzalez Vivo</a>, also one of the co authors of the <a href="https://thebookofshaders.com/" target="_blank" rel="noopener noreferrer">book of shaders</a> and the creator of <a href="https://github.com/patriciogonzalezvivo/glslViewer" target="_blank" rel="noopener noreferrer">glslViewer</a> ‚ù§Ô∏è Honestly, where would I be if not for these amazing tools and resources! ‚ú®Ô∏è</p>
<p class="py-2">With lygia, as you can probably figure, it is much simpler to now have access to functions like <code>noise</code> and <code>random</code>, which we would have originally had to copy paste inside our shader. About the <code>#include</code>, it did not work in the vscode extension <a href="https://marketplace.visualstudio.com/items?itemName=circledev.glsl-canvas" target="_blank" rel="noopener noreferrer">glsl-canvas</a> last time I checked so you may want to go ahead and install glslViewer üë©‚Äçüíª</p>
<p class="py-2">Now what characterizes a Mondrian are the straight lines, horizontal and vertical and the three primary colors üî¥üåïüîµ which are the only elements that he thought were necessary. Even diagonals are not allowed, and side note, he cut away from Theo van Doesburg after a disagreement on this exact subject.</p>
<p class="py-2">So we figure we need to construct a grid in a somewhat non regular manner and then start filling the boxes of the grid with color. Atleast that is what we will try to do. üôå</p>
<h3 class="text-lg font-semibold">Grid up</h3>
<pre class="language-glsl"><code class="language-glsl"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">vec2</span> st <span class="token operator">=</span> gl_FragCoord<span class="token punctuation">.</span>xy<span class="token operator">/</span>u_resolution<span class="token punctuation">.</span>xy<span class="token punctuation">;</span><br>  <span class="token keyword">float</span> size <span class="token operator">=</span> <span class="token number">5.0</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">vec2</span> grid <span class="token operator">=</span> st<span class="token punctuation">;</span><br>  grid<span class="token punctuation">.</span>x <span class="token operator">*=</span> <span class="token function">cnoise</span><span class="token punctuation">(</span><span class="token keyword">vec2</span><span class="token punctuation">(</span>st<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span>size<span class="token punctuation">;</span><br>  grid<span class="token punctuation">.</span>y <span class="token operator">*=</span> <span class="token function">cnoise</span><span class="token punctuation">(</span><span class="token keyword">vec2</span><span class="token punctuation">(</span>st<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span>size<span class="token punctuation">;</span><br><br>  <span class="token keyword">float</span> rows <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token function">fract</span><span class="token punctuation">(</span>grid<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0.0</span> <span class="token operator">?</span> <span class="token number">0.5</span> <span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">;</span><br>  <span class="token keyword">vec3</span> cols <span class="token operator">=</span> <span class="token keyword">vec3</span><span class="token punctuation">(</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token function">fract</span><span class="token punctuation">(</span>grid<span class="token punctuation">.</span>x <span class="token operator">+</span> rows<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <br><br>  gl_FragColor <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>cols<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p class="py-2">To make the grid, we can pick up from where we left in the last article and expand our space <code>st</code> but this time using <code>cnoise</code>, an implementation of classic perlin noise from the lygia library, to create non regularity in a controlled manner. <code>cnoise</code> takes in a <code>vec2</code>, so now <code>grid</code> would range between <code>0-size</code> in both directions, and this way also produced a symmetry along the x axis. There must be tons of other, probably better ways to get non uniform grids but we will stick with this for now.</p>
<p class="py-2"><img src="./bwgrid.png" alt="Black and white grid"></p>
<h3 class="text-lg font-semibold">Fill in the color</h3>
<p class="py-2">Now that we have our black and white grid, we can move on to adding color. We are going to use a glsl function called <a href="https://thebookofshaders.com/glossary/?search=mix" target="_blank" rel="noopener noreferrer"><code>mix</code></a> which can be used for many things but, from what little glsl code I have seen, it is usually used to transition smoothly between colors based on a function.</p>
<p class="py-2">To start, we need to select rectangles from this grid and then fill them with üî¥, üåï, or üîµ. To give a random gray color to parts of a grid we can do something like so</p>
<pre class="language-glsl"><code class="language-glsl"><span class="token keyword">float</span> random_c <span class="token operator">=</span> <span class="token function">floor</span><span class="token punctuation">(</span>grid<span class="token punctuation">.</span>x <span class="token operator">+</span> rows<span class="token punctuation">)</span><span class="token operator">/</span>size<span class="token punctuation">;</span><br><span class="token comment">// vec2 random_c = floor(vec2(grid.x + rows, grid.y*2.0))/size;</span><br>cols <span class="token operator">=</span> <span class="token keyword">vec3</span><span class="token punctuation">(</span><span class="token function">random</span><span class="token punctuation">(</span>random_c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p class="py-2"><img src="./random1.png" alt="random gray fill"></p>
<p class="py-2">This chooses a random <code>float</code> based on <code>grid.x+rows</code> which is essentially our columns, and same values of rgb give it the color between white and black that we see. Again, this is just one of the ways to do this, because as the title says, we are going to fail to make a Mondrian so go ahead and comment out the second line and use that if you like!</p>
<p class="py-2">We will do this process three times for our three colors, and then mix in those colors with a white background based on the values that we'll get.</p>
<pre class="language-glsl"><code class="language-glsl"><span class="token keyword">vec3</span> colorf <span class="token operator">=</span> <span class="token keyword">vec3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>colorf<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token function">random</span><span class="token punctuation">(</span>random_c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>colorf<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token function">random</span><span class="token punctuation">(</span>random_c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>colorf<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token function">random</span><span class="token punctuation">(</span>random_c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>gl_FragColor <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>colorf<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p class="py-2"><img src="./color1.png" alt="color!"></p>
<p class="py-2">With the <code>step</code> function, we are splitting the random space from <code>random(random_c)</code> into two parts, like colored/not colored, and red/not red and so forth. You can try tweaking the first value in <code>step</code> function and see the change that it makes.</p>
<p class="py-2">Now using these values we will finally start mixing in the colors that we want üé® The <code>mix</code> function in glsl takes three arguements, the first two of which are the colors to be mixed, and the third is the function which mixes them. So if we say <code>mix(WHITE, BLACK, 0.0)</code> we would get the color <code>WHITE</code> and <code>mix(WHITE, BLACK, 1.0)</code> would give us <code>BLACK</code>. We can also do this iteratively by mixing further into the color that we get in a previous step like so.</p>
<pre class="language-glsl"><code class="language-glsl"><span class="token keyword">vec3</span> color <span class="token operator">=</span> WHITE<span class="token punctuation">;</span><br>color <span class="token operator">=</span> <span class="token function">mix</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> RED<span class="token punctuation">,</span> colorf<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><br>color <span class="token operator">=</span> <span class="token function">mix</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> YELLOW<span class="token punctuation">,</span> colorf<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><br>color <span class="token operator">=</span> <span class="token function">mix</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> BLUE<span class="token punctuation">,</span> colorf<span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>gl_FragColor <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p class="py-2">For a much detailed and thorough explanation do check the <a href="https://thebookofshaders.com/06/" target="_blank" rel="noopener noreferrer">color chapter</a> from the book of shaders. Our code above makes sure that only these three colors fill different parts of the grid and not any other color combinations.</p>
<p class="py-2"><img src="./red-yellow-blue.png" alt="yay"></p>
<p class="py-2">As an extra exercise we can also try outlining all the grid cells that we have, again using the <code>step</code> and <code>mix</code> functions. Doing the outlining before the colors would hide it, just like if we were doing it on paper, so we will add it in the end.</p>
<pre class="language-glsl"><code class="language-glsl"><span class="token keyword">vec2</span> outline <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token function">fract</span><span class="token punctuation">(</span><span class="token keyword">vec2</span><span class="token punctuation">(</span>grid<span class="token punctuation">.</span>x <span class="token operator">+</span> rows<span class="token punctuation">,</span> grid<span class="token punctuation">.</span>y<span class="token operator">*</span><span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">vec3</span> color <span class="token operator">=</span> WHITE<span class="token punctuation">;</span><br>color <span class="token operator">=</span> <span class="token function">mix</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> RED<span class="token punctuation">,</span> colorf<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><br>color <span class="token operator">=</span> <span class="token function">mix</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> YELLOW<span class="token punctuation">,</span> colorf<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><br>color <span class="token operator">=</span> <span class="token function">mix</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> BLUE<span class="token punctuation">,</span> colorf<span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span><br>color <span class="token operator">=</span> <span class="token function">mix</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token operator">-</span>WHITE<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token operator">-</span>outline<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><br>color <span class="token operator">=</span> <span class="token function">mix</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token operator">-</span>WHITE<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token operator">-</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token function">fract</span><span class="token punctuation">(</span>grid<span class="token punctuation">.</span>y<span class="token operator">*</span><span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>color <span class="token operator">=</span> <span class="token function">mix</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token operator">-</span>WHITE<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token operator">-</span>outline<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p class="py-2"><img src="./outline.png" alt="outlines!"></p>
<p class="py-2">And that's it, we'll stop here but there are tons of ways this can go further like using the uniform <code>u_time</code> and incorporating it in constructing our grid so the grid could move.</p>
<p class="py-2">Here are a few things I made, hope you have fun making yours üíÉüëè</p>
<p class="py-2"><img src="./2.gif" alt="random displacement"></p>
<p class="py-2"><img src="./3.gif" alt="let's dance"></p>
<p class="py-2"><img src="./4.gif" alt="gimme color"></p>

    </div>

    <div class="w-full
                py-4 px-2">
      <footer>
  <ul class="markdown-list list-inside self-start">
    <li><a class="link-primary" href="https://www.instagram.com/ophelia.game/">instagram</a></li>
    <li><a class="link-primary" href="https://twitter.com/anushkatr">twitter</a></li>
  </ul>
</footer>

    </div>

  </div>

</body>
</html>